<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Gestão de Produtos{% endblock %}</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Jost:ital,wght@0,100..900;1,100..900&family=Maven+Pro:wght@400..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">

  <link rel="stylesheet" href="{{ url_for('static', filename='css/global.css') }}">
  <!-- <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"> -->

  <!-- Estilos específicos da página -->
  {% block styles %}{% endblock %}
  <!-- <style>
    .login-modal-content {
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
    }

    .login-input-field {
      border: 1px solid #d1d5db;
      background-color: #f9fafb;
      padding: 10px 12px;
    }

    .login-input-field:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
    }
  </style> -->
</head>

<body class="flex flex-col min-h-screen">
  {% block header %}

  <header class="absolute top-0 left-0 right-0 z-50 bg-transparent px-6 py-3 app-navbar nav-link">
    <!-- Menu desktop -->
    <nav class="flex items-center justify-between">
      <img src="/static/image/logotipo-red.svg" alt="Logo da Empresa" class="h-12 w-auto logo">

      <ul class="hidden lg:flex space-x-6 navbar-links">
        <li><a href="{{ url_for('index') }}">Dashboard</a></li>
        <li><a Href="{{ url_for('upload') }}">Upload Nota Fiscal</a></li>
        <li><a href="{{ url_for('cadastro') }}">Cadastro Manual</a></li>
        <li><a href="{{ url_for('index') }}" id="link-calculadora">Calculadora</a></li>
        <!-- <li><a href="{{ url_for('produto') }}">Produtos Finais</a></li> -->
        <li><a href="{{ url_for('meusProdutos') }}">Produtos Finais</a></li>
        <li><a href="{{ url_for('listar_itens_view') }}">Matérias-Primas</a></li>
      </ul>

      <div class="flex items-center space-x-4">
        <svg id="open-modal-desktop" xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6 icon-header-login hidden lg:block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M5.121 17.804A9.004 9.004 0 0112 15c2.21 0 4.21.805 5.879 2.121M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>

        <button id="menu-toggle" class="lg:hidden">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </nav>

    <!-- Menu mobile -->
    <nav id="mobile-menu"
      class="lg:hidden hidden fixed top-0 right-0 flex flex-col p-6 space-y-6 shadow-lg z-50 menu-mobile">
      <div class="flex justify-end">
        <button id="menu-close" class="text-2xl font-bold">
          &times;
        </button>
      </div>

      <div class="flex flex-col space-y-4 text-sm font-medium">
        <a href="{{ url_for('index') }}">Dashboard</a>
        <a Href="{{ url_for('upload') }}">Upload Nota Fiscal</a>
        <a href="{{ url_for('cadastro') }}">Cadastro Manual</a>
        <a href="#" id="link-calculadora">Calculadora</a>
        <!-- <li><a href="{{ url_for('produto') }}">Produtos Finais</a> </li>-->
        <a href="{{ url_for('meusProdutos') }}">Produtos Finais</a>
        <a href="{{ url_for('listar_itens_view') }}">Matérias-Primas</a>
        <a href="#" id="open-modal-mobile" class="hover:text-gray-300 font-semibold transition">Sign In</a>
      </div>
    </nav>
  </header>
  {% endblock %}


  <div id="login-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
    <div class="flex bg-white text-black w-full max-w-[800px] p-8 rounded-lg login-modal-content relative">
      <div>

        <button id="close-modal" class="absolute top-4 right-4 text-2xl font-bold text-gray-500 hover:text-gray-700">
          &times;
        </button>

        <h2 class="text-2xl font-bold text-center mb-6 text-gray-800 uppercase">Login</h2>

        <form class="flex flex-col space-y-5">
          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-1">EMAIL:</label>
            <div class="text-gray-500 text-sm mb-2">www.elofexample.com</div>
            <input type="email" class="login-input-field w-full rounded text-gray-700 focus:outline-none">
          </div>

          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-1">SENHA:</label>
            <div class="text-gray-500 text-sm mb-2">**********</div>
            <input type="password" class="login-input-field w-full rounded text-gray-700 focus:outline-none">
          </div>

          <div class="border-t border-gray-300 my-4">

          </div>

          <button type="submit"
            class="bg-gray-900 text-white py-3 rounded font-semibold hover:bg-gray-800 transition text-sm uppercase">
            Login
          </button>
        </form>
      </div>
      <div>
        <img src="/static/image/img-login.svg" alt="Logo da Empresa" class=" ">

      </div>
    </div>
  </div>



  <main class="{% block main_classes %}max-w-7xl mx-auto px-4{% endblock %}">
    {% block content %}{% endblock %}
  </main>


  <footer class="text-white mt-auto w-full footer-base" role="contentinfo" aria-label="Rodapé da MCM Bobinas">
    <div
      class="max-w-7xl mx-auto px-4 py-6 flex flex-col md:flex-row items-center md:items-start justify-between gap-8">

      <!-- Coluna da esquerda: Logo + Endereço -->
      <div class="text-center md:text-center lg:text-left md:max-w-sm w-full">
        <div class="flex flex-col items-center md:items-center lg:items-start gap-2 w-full">
          <!-- Logo -->
          <div class="flex items-center gap-2 text-white">
            <img src="/static/image/logotipo-mcm.svg" alt="Logotipo MCM Bobinas" class="h-10 w-auto">
          </div>

          <!-- Endereço -->
          <address class="not-italic leading-snug footer-address md:text-center lg:text-left">
            Endereço: R. Luiz José Sangaletti, 2.029 – Pq.<br />
            Industrial Fuad Razuk – Pederneiras (SP)
          </address>
        </div>
      </div>

      <!-- Coluna da direita: Explore + ícones -->
      <div class="flex flex-col items-center md:items-center gap-8">
        <h3 class="explore-title">Explore</h3>
        <nav class="flex gap-3" aria-label="Links de navegação do rodapé">
          <a href="#"
            class="p-3.5 footer-button-nav rounded-full hover:bg-neutral-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-white"
            aria-label="Calculadora" title="Calculadora">
            <img src="/static/image/icon-calculator.svg" alt="Ícone de Calculadora">
          </a>
          <a href="#"
            class="p-3.5 footer-button-nav rounded-full hover:bg-neutral-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-white"
            aria-label="Relatórios" title="Relatórios">
            <img src="/static/image/icon-forms.svg" alt="Ícone de Relatório">
          </a>
          <a href="#"
            class="p-3.5 footer-button-nav rounded-full hover:bg-neutral-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-white"
            aria-label="Upload" title="Upload">
            <img src="/static/image/icon-upload.svg" alt="Ícone de Upload">
          </a>
          <a href="#"
            class="p-3.5 footer-button-nav rounded-full hover:bg-neutral-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-white"
            aria-label="Produtos" title="Produtos">
            <img src="/static/image/icon-box.svg" alt="Ícone de Produtos">
          </a>
        </nav>
      </div>

    </div>

    <!-- Copyright -->
    <div class="text-center text-xs py-4 copyright">
      <p>Copyright ©2025 JMR. Todos os direitos reservados.</p>
    </div>
  </footer>







  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="{{ url_for('static', filename='js/pages/menu.js') }}"></script>

  {% block scripts %}
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const linkCalculadora = document.getElementById("link-calculadora");
      const calcSection = document.querySelector(".calc-container");

      if (linkCalculadora && calcSection) {
        linkCalculadora.addEventListener("click", (e) => {
          e.preventDefault(); // evita o reload da página
          calcSection.scrollIntoView({ behavior: "smooth", block: "start" });
        });
      }
    });
  </script>
  <script>
    (function () {
      const path = window.location.pathname.replace(/\/$/, "");
      document.querySelectorAll(".app-navbar .nav-link").forEach(a => {
        try {
          const href = a.getAttribute("href") || "";
          const norm = href.replace(/\/$/, "");
          if (norm === path) {
            a.classList.add("active");
            a.setAttribute("aria-current", "page");
          }
          if ((path === "" || path === "/") && (norm === "" || norm === "/")) {
            a.classList.add("active");
            a.setAttribute("aria-current", "page");
          }
        } catch (e) { }
      });
    })();

    // Script para controlar a abertura e fechamento do modal
    document.addEventListener('DOMContentLoaded', function () {
      const loginModal = document.getElementById('login-modal');
      const openModalDesktop = document.getElementById('open-modal-desktop');
      const openModalMobile = document.getElementById('open-modal-mobile');
      const closeModalBtn = document.getElementById('close-modal');

      // Abrir modal (desktop)
      if (openModalDesktop) {
        openModalDesktop.addEventListener('click', function () {
          loginModal.classList.remove('hidden');
        });
      }

      // Abrir modal (mobile)
      if (openModalMobile) {
        openModalMobile.addEventListener('click', function (e) {
          e.preventDefault();
          loginModal.classList.remove('hidden');
        });
      }

      // Fechar modal
      if (closeModalBtn) {
        closeModalBtn.addEventListener('click', function () {
          loginModal.classList.add('hidden');
        });
      }

      // Fechar modal ao clicar fora
      loginModal.addEventListener('click', function (e) {
        if (e.target === loginModal) {
          loginModal.classList.add('hidden');
        }
      });
    });
  </script>
  {% endblock %}
  <script src="{{ url_for('static', filename='js/shared/toast.js') }}"></script>
</body>

</html>