{% extends "base.html" %}

{% block title %}Cadastro de Matéria-Prima{% endblock %}

{% block styles %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/cadastro.css') }}">
  <style>
    /* Força a cor do menu para preto apenas nesta tela */
    .navbar-links a {
      color: #000 !important;
    }
  </style>
{% endblock %}

{% block header %}
  {{ super() }}
{% endblock %}

{% block content %}
  <!-- Marca d’água ao fundo -->
  <div class="wm" aria-hidden="true"></div>

  <!-- Título e subtítulo -->
  <h1 class="hero-title">CADASTRO DE MATÉRIA-PRIMA</h1>
  <p class="hero-sub">Ferramenta para cadastro manual de matéria-prima.</p>

  <!-- Formulário em 2 colunas, fiel ao layout -->
  <section class="panel">
    
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="mb-4">
      {% for category, message in messages %}
        <div class="rounded-lg p-3 text-sm
                    {% if category == 'success' %} bg-green-100 text-green-800 border border-green-300
                    {% elif category == 'danger' %} bg-red-100 text-red-800 border border-red-300
                    {% else %} bg-gray-100 text-gray-800 border border-gray-300 {% endif %}">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<form method="post" class="grid grid-cols-12 gap-5 md:gap-6" action="{{ url_for('cadastro') }}">
      <!-- Coluna esquerda -->
      <div class="col-span-12 md:col-span-6">
        <label for="codigo">CÓDIGO</label>
        <input id="codigo" name="codigo" type="text" class="input">

        <label for="fornecedor">FORNECEDOR</label>
        <input id="fornecedor" name="fornecedor" type="text" class="input">

        <label for="descricao">DESCRIÇÃO DO SERVIÇO</label>
        <input id="descricao" name="descricao" type="text" class="input">

        <label for="quantidade">QUANTIDADE</label>
        <input id="quantidade" name="quantidade" type="number" step="0.01" class="input">

      <label for="categoria">CATEGORIA</label>
      <input id="categoria" name="categoria" type="text" 
             placeholder="Ex: Parafuso, Verniz..." 
             class="input">

      </div>

      <!-- Coluna direita -->
      <div class="col-span-12 md:col-span-6">
        <label for="nome">NOME DA MATÉRIA-PRIMA OU SERVIÇO</label>
        <input id="nome" name="nome" type="text" class="input">

        <label for="cnpj">CNPJ (SE APLICÁVEL)</label>
        <input id="cnpj" name="cnpj" type="text" class="input">

        <label for="data_compra">DATA DE COMPRA</label>
        <input id="data_compra" name="data_compra" type="date" class="input">

        <label for="medida">MEDIDA</label>
        <select id="medida" name="medida" class="input">
          <option value="">Selecione...</option>
          <option value="kg">KG</option>
          <option value="unidade">UN</option>
          <option value="litro">LT</option>
          <option value="rolo">RL</option>
          <option value="metro">M</option>
          <option value="peca">PC</option>
          <option value="jogo">JG</option>
        </select>

        <label for="valor_unitario">VALOR UNITÁRIO</label>
        <input id="valor_unitario" name="valor_unitario" type="number" step="0.01" class="input">
      </div>

      <!-- Botão -->
      <div class="col-span-12 text-center mt-6">
        <button type="submit" class="btn btn-primary">CADASTRAR</button>
      </div>
    </form>
  </section>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script src="{{ url_for('static', filename='js/pages/cadastro.js') }}"></script>
{% endblock %}
